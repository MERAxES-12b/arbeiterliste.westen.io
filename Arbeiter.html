<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LOST MC — Arbeiterliste</title>
<link rel="website icon" type="png" href="images/lostmc-icon.png">
<style>
:root {
  --violett: #8b5cf6;
  --violett-dark: #6d28d9;
  --bg: #0d0d0d;
  --text: #f5f5f5;
}
body {
  font-family: 'Inter', Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
}
.wrap { max-width: 1100px; width: 100%; }
h1 { text-align: center; color: var(--violett); text-transform: uppercase; margin-bottom: 20px; letter-spacing: 1px; }
.top {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
}
input[type="search"] {
  padding: 10px;
  border: 1px solid var(--violett-dark);
  border-radius: 6px;
  background: #1a1a1a;
  color: var(--text);
  font-size: 15px;
  width: 260px;
}
button {
  padding: 8px 14px;
  border-radius: 6px;
  border: 1px solid var(--violett-dark);
  background: var(--violett-dark);
  color: white;
  cursor: pointer;
  transition: background .2s;
}
button:hover { background: var(--violett); }
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}
.card {
  background: #1a1a1a;
  border: 1px solid #2b2b2b;
  border-radius: 20px;
  padding: 30px 10px;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
}
.card:hover { border-color: var(--violett); transform: scale(1.03); }
.card-name { font-size: 18px; font-weight: bold; color: var(--violett); }
.count { text-align: center; color: #aaa; margin-top: 12px; }
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.3s;
}
.modal.active { visibility: visible; opacity: 1; }
.modal-content {
  background: #181818;
  border-radius: 12px;
  padding: 20px 30px;
  max-width: 400px;
  color: var(--text);
  text-align: center;
  border: 1px solid var(--violett-dark);
}
.modal-content h2 { color: var(--violett); margin-bottom: 10px; }
.modal-content p { margin: 6px 0; font-size: 15px; }
.expired { color: #ff4d4d; font-weight: bold; }
.close {
  margin-top: 15px;
  background: transparent;
  border: 1px solid var(--violett-dark);
  color: var(--violett);
  border-radius: 6px;
  padding: 6px 12px;
  cursor: pointer;
}
.close:hover { background: var(--violett-dark); color: white; }

.back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  padding: 8px 14px;
  background: #1a1a1a;
  border: 1px solid var(--violett);
  border-radius: 6px;
  color: #f5f5f5;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s;
  z-index: 100;
}
.back-btn:hover { background: var(--violett); color: white; }
</style>
</head>
<body>
<button onclick="history.back()" class="back-btn">← Zurück</button>
<div class="wrap">
  <h1>LOST MC — Arbeiterliste</h1>
  <div class="top">
    <input id="search" type="search" placeholder="Suche nach Name, Telefon oder Arbeitgeber...">
    <button id="reload">Neu laden</button>
  </div>
  <div id="msg" class="count">—</div>
  <div id="cards" class="cards"></div>
  <div id="count" class="count">—</div>
</div>

<div id="modal" class="modal">
  <div class="modal-content">
    <h2 id="mName"></h2>
    <p><strong>Telefon:</strong> <span id="mTel"></span></p>
    <p><strong>Arbeitgeber:</strong> <span id="mJob"></span></p>
    <p><strong>Letzter Tag:</strong> <span id="mLast"></span></p>
    <p><strong>Notizen:</strong> <span id="mNotes"></span></p>
    <p><strong>Passwort:</strong> <span id="mPw"></span></p>
    <button class="close" onclick="closeModal()">Schließen</button>
  </div>
</div>

<script>
let allRows = [
  ["Benny Butzi", "?", "Lost MC", "", "", "Schrotthändler"],
  ["Ronny Berg", "?", "Lost MC", "", "Beobachten", "Bergi"],
  ["Hermann Isaak", "?", "Lost MC", "", "", "Schiebermütze"],
  ["George Hustel", "?", "Lost MC", "", "", "420"],
  ["Timo Kamahel", "?", "Lost MC", "", "", "374"],
  ["Kim Saki", "?", "Lost MC", "", "", "Babbel"],
  ["Sassy Lie", "?", "Lost MC", "", "", "Rose"],
];

const cardsEl = document.getElementById('cards');
const countEl = document.getElementById('count');

function renderCards(rows){
  cardsEl.innerHTML = rows.map(r=>{
    const [name, tel, job, last, notes, pw] = r;
    const expired = last ? 'expired' : '';
    return `<div class="card" onclick='openModal(${JSON.stringify(r)})'>
      <div class="card-name ${expired}">${name || '—'}</div>
    </div>`;
  }).join('');
  countEl.textContent = `${rows.length} Einträge`;
}

function filterAndRender(q){
  const filtered = q
    ? allRows.filter(r => r.some(v => (v||"").toLowerCase().includes(q)))
    : allRows;
  renderCards(filtered);
}

function openModal(data){
  const [name, tel, job, last, notes, pw] = data;
  document.getElementById('mName').textContent = name;
  document.getElementById('mTel').textContent = tel || '—';
  document.getElementById('mJob').textContent = job || '—';
  document.getElementById('mLast').textContent = last || '—';
  document.getElementById('mNotes').textContent = notes || '—';
  document.getElementById('mPw').textContent = pw || '—';
  if (last) document.getElementById('mLast').classList.add('expired');
  else document.getElementById('mLast').classList.remove('expired');
  document.getElementById('modal').classList.add('active');
}

function closeModal(){ document.getElementById('modal').classList.remove('active'); }

function debounce(fn, ms){
  let t; 
  return (...args)=>{ clearTimeout(t); t=setTimeout(()=>fn(...args),ms); };
}

document.getElementById('reload').addEventListener('click', ()=> renderCards(allRows));
document.getElementById('search').addEventListener('input', debounce(e=>{
  filterAndRender(e.target.value.trim().toLowerCase());
}, 250));

renderCards(allRows);
</script>
</body>
</html>

